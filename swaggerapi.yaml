swagger: "2.0"
info:
  title: KSeF RSA Encryptor API
  description: API do szyfrowania danych RSAES-OAEP (MGF1 SHA-256) zgodne z KSeF.
  version: "1.3"
host: localhost:5000
basePath: /
schemes:
  - http
paths:
  /encrypt:
    post:
      summary: Szyfruje dane RSAES-OAEP (MGF1 SHA-256)
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: object
            properties:
              data_b64:
                type: string
                example: ZGFuZV9iYXNlNjQ=
                description: Dane zakodowane Base64 (np. klucz AES)
              cert_b64:
                type: string
                example: "-----BEGIN CERTIFICATE-----\\nMIIBIjANBgkq...\\n-----END CERTIFICATE-----"
                description: Certyfikat RSA PEM/Base64 DER
              return_b64:
                type: boolean
                default: true
      responses:
        200:
          description: Wynik szyfrowania
        400:
          description: Błąd danych wejściowych
        500:
          description: Błąd serwera

  /health:
    get:
      summary: Health-check serwisu
      responses:
        200:
          description: Serwis działa poprawnie
